<!DOCTYPE html>
<html lang="en">


<head>
  <meta name="title" content="CodeTechBVN">
  <meta name="description"
    content="CodeTech is the information and technology club of Birla Vidya Niketan. Established in 2019 with a vision to bring together the bright minds in the field of technology and together do wonders which help bring technological knowledge to the mainstream">
  <meta name="keywords" content="codetech, bvn, ct, bvncodetech, codetechbvn">
  <meta name="robots" content="index, follow">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="language" content="English">
  <meta name="author" content="Birla Vidya Niketan">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Codetech Web - CODEx v4.0</title>
  <link rel="stylesheet" href="../assets/css/plugin.css" />
  <link rel="stylesheet" href="../assets/css/main.css" />
  <link rel="stylesheet" href="../assets/css/responsive.css" />
  <link rel="stylesheet" href="../assets/css/form.css">
</head>

<body>
  <!-- Start Preload -->
  <div class="preloader"></div>
  <div class="block-1"></div>
  <div class="block-2"></div>
  <div class="logo-load">
    <img src="" alt="" />
    <!-- Removed logo cuz it looked bad lol  WHAT IS THIS -->
  </div>
  <div class="logo-load spinning"></div>
  <div class="over-all"></div>
  <!-- End Preload -->

  <!-- Start Header -->
  <header>
    <nav>
      <!-- Logo -->
      <div class="logo hover-target">
        <a class="load-spiral" href="/index.html"><img src="../assets/img/logo.svg" alt="logo" /></a>
      </div>
      <!-- Menu bar -->
      <div class="toggle-btn magnetic hover-target">
        <div class="burger-menu">
          <span class="one"></span>
          <span class="two"></span>
          <span class="tre"></span>
        </div>
      </div>
      <!-- Social -->
      <div class="scr socials">
        <div class="list-social">
          <ul>
            <li class="hover-target">
              <a href="https://github.com/BVNCodeTech">Gh.</a>
            </li>
            <li class="hover-target">
              <a href="https://www.instagram.com/codetech.bvn/?hl=en">Ig.</a>
            </li>
            <li class="hover-target">
              <a href="https://www.youtube.com/c/CodeTechBVN/featured">Yt.</a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Copyright -->
      <div class="scr copyright-top">
        <p>CODETECH &copy; 2022</p>
      </div>

      <div class="bg-nav"></div>

      <!-- menu -->
      <div class="manu-container">
        <div class="menu">
          <div class="data">
            <div class="container">
              <div class="row">
                <div class="col-md-6">
                  <div class="links text-center text-lg-left">
                    <ul>
                      <li>
                        <p>01</p>
                        <a class="menu-link hover-target load-spiral" href="/index.html">Home</a>
                      </li>
                      <li>
                        <p>02</p>
                        <a class="menu-link hover-target load-spiral" href="/events.html">Events</a>
                      </li>
                      <li>
                        <p>03</p>
                        <a class="menu-link hover-target load-spiral" href="/about.html">About</a>
                      </li>
                      <li>
                        <p>04</p>
                        <a class="menu-link hover-target load-spiral" href="/team.html">Team</a>
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="col-md-4 offset-md-2 centered text-right">
                  <div class="address-menu">
                    <h3>TEAM CODETECH</h3>
                    <h4>Birla Vidya Niketan, Delhi</h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <!-- End Header -->

  <!-- Start Content -->
  <div id="spiral">
    <!-- Header -->
    <div class="scrolls" style="transition: none; animation: none">
      <img draggable="false" style="width: 90px" src="../assets/img/down.png" alt="scroll" />
    </div>
    <div class="main-head">
      <div id="headmove">
        <div data-depth="0.2">
          <div class="bg-about"></div>
        </div>
        <div data-depth="0.3">
          <div class="bg-about-2"></div>
        </div>
      </div>
      <div class="heading-text">
        <div class="heading-text-front">
          <h1 style="text-transform: none;" class="title">CODEx <span style="color: black;">v4.0</span></h1>
          <h4 style="color: white !important;" class="title text-primary">Registration</h4>
        </div>
        <div class="heading-text-back">
          <h1 style="text-transform: none;" class="title">CODEx v4.0</h1>
          <h4 class="title text-primary">Registration</h4>
        </div>
      </div>
    </div>

    <!-- About -->
    <section class="service">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="main-title text-center">
              <h2>Register@<span>CODEx v4.0</span></h2>
            </div>
          </div>
        </div>
        <!-- CODEx REG  -->
        <div class="mt-30">
          <div class="service-item">
            <div class="service-text">
              <div id="eventlistform">
                <h3 style="margin-bottom: 20px;">Select your events</h3>
                <div class="listcontainer">
                  <label class="containerr">PLUNDER
                  <input id="checks" value="PLUNDER" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">HACKATHON
                  <input id="checks" value="HACKATHON" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">DESIGNATHON
                  <input id="checks" value="DESIGNATHON" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">ALGOBATTLES
                  <input id="checks" value="ALGOBATTLES" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">KWIZ
                  <input id="checks" value="KWIZ" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">SHOWSTOPPER
                  <input id="checks" value="SHOWSTOPPER" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">SURPRISE
                  <input id="checks" value="SURPRISE" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr">POWERPOINT
                  <input id="checks" value="POWERPOINT" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <button type="button" class="btn btn-dark full" value="Next" style="margin-top: 3vh;"
                  onclick="addevents()">Next</button>
              </div>
            </div>
          </div>
          </div>
        </div>


        <!-- Footer -->
        <div class="footer">
          <div class="container">
            <div class="row">
              <div class="col-md-4 text-center text-md-left mt-30">
                <div class="mail hover-target">
                  <a href="#">codetechbvn@gmail.com</a>
                </div>
              </div>
              <div class="col-md-4 text-center mt-30">
                <div class="logo-foot">
                  <img src="../assets/img/logo.svg" alt="adsfasdfasdf" />
                </div>
              </div>
              <div class="col-md-4 text-center text-md-right mt-30">
                <div class="sosmed">
                  <ul>
                    <li class="hover-target">
                      <a href="https://github.com/BVNCodeTech">Github.</a>
                    </li>

                    <li class="hover-target">
                      <a href="https://www.instagram.com/codetech.bvn/?hl=en">Instagram.</a>
                    </li>
                    <li class="hover-target">
                      <a href="https://www.youtube.com/c/CodeTechBVN/featured">Youtube.</a>
                    </li>
                  </ul>
                </div>
                <div class="copyright">
                  <p>Codetech &copy;2022. All Rights Reserved</p>
                  <p>Made with â™¥ by Team CodeTech.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Content -->

        <!-- Cursor -->
        <div class="cursor1" id="cursor1"></div>
        <div class="cursor" id="cursor"></div>

        <script src="../assets/js/plugin.js"></script>
        <script src="../assets/js/main.js"></script>
        <script src="../assets/js/service/api/service.json"></script>
        <script src="../assets/js/butter.js"></script>
        <script>
          output = ""
          function addevents() {
            let checks = document.querySelectorAll('[id=checks]');
            output = Array.from(checks).filter((check) => check.checked).map((check) => check.value);
            console.log(output)
            let form = document.getElementById("eventlistform")
            let boilerplate = `
        <div class="mt-30">
            <div class="service-item">
              <div class="service-text">
                <h3>School Details</h3>

                <ul class="service-list">
                  <li><input type="name" placeholder="Name of school" name="name" id="sname"></li>
                  <li><input type="address" placeholder="School address" name="address" id="saddress"></li>
                </ul>
              </div>
              <div class="service-text">
                <h3>Teacher in-charge</h3>
                
                <ul class="service-list">
                  <li><input type="name" placeholder="Name of teacher" name="name" id="tname"></li>
                  <li><input type="email" placeholder="Email address of teacher" name="email" id="temail"></li>
                  <li><input type="number" placeholder="Phone number of teacher" name="phone" id="tphone"></li>
                </ul>
        `
            let template = `
              <div class="service-text">
                <h3>eventnamehere</h3>
              {info}
              </div>
        `
            let subtemp = `
              <h4 class="text-dark">Participant {i}</h4>
                <ul class="service-list">
                  <li><input type="name" placeholder="Name of participant" name="name" id="p{e}{i}_name"></li>
                  <li><input type="email" placeholder="Email address of participant" name="email" id="p{e}{i}_email"></li>
                  <li><input type="class" placeholder="Class of participant" name="class" id="p{e}{i}_class"></li>
                </ul>
                `
            let newhtml = ``;
            let eventinfo = {
              "PLUNDER": 3,
              "DESIGNATHON": 5,
              "ALGOBATTLES": 2,
              "KWIZ": 2,
              "VALORANT": 6,
              "SURPRISE": 1,
              "POWERPOINT": 1
            }
            output.forEach(element => {
              let temphtml = ``
              for (let i = 0; i < eventinfo[element]; i++) {
                temphtml += subtemp.replaceAll('{e}', element).replaceAll('{i}', i + 1)
              }
              newhtml += template.replaceAll("{info}", temphtml).replaceAll("eventnamehere", element)
            });
            let finalhtml = boilerplate + newhtml + `<button type="button" class="btn btn-dark" value="Submit" style="margin-top: 3vh;" onclick="submitform()">Submit</button></div></div></div>`
            form.innerHTML = finalhtml
          }

          const submitform = () => {
            const inputs = ["sname", "saddress", "tname", "temail", "tphone"]
            let eventinfo = {
              "PLUNDER": 3,
              "DESIGNATHON": 5,
              "ALGOBATTLES": 2,
              "KWIZ": 4,
              "VALORANT": 6,
              "SURPRISE": 1,
              "POWERPOINT": 1
            }

            let events = []

            output.forEach(element => {
              let part = []
              for (let i = 0; i < eventinfo[element]; i++) {
                part.push({
                  "name": document.getElementById(`p${element}${i + 1}_name`).value,
                  "class": document.getElementById(`p${element}${i + 1}_class`).value,
                  "mail": document.getElementById(`p${element}${i + 1}_email`).value
                })
              }
              let eventtt = {
                "name": element,
                "part": part
              }
              events.push(eventtt)
            });

            let v = {}
            inputs.forEach(element => {
              let e = document.getElementById(element)
              v[element] = e.value
            });

            let finaldata = {
              "school": {
                "name": v.sname,
                "addr": v.saddress
              },
              "events": events,
              "teacher": {
                "name": v.tname,
                "email": v.temail,
                "phone": v.tphone
              }
            }

            console.log(finaldata)

            content = fetch("https://api.teamcodetech.in/codex", {
              body: JSON.stringify(finaldata),
              headers: {
                "Content-Type": "application/json"
              },
              method: "POST"
            }).then(res => res.json()).then(res => {
              console.log(res)
              if (res.status == "ok") {
                alert(`Your form has been submitted successfully. Your discord access token is: ${res.code}.\nPlease keep it safe.`)
              } else {
                alert("There was an error submitting your form. Please try again later.")
              }
            })
          }
        </script>

</body>

</html>