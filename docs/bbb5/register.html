<!DOCTYPE html>
<html lang="en">


<head>
  <meta name="title" content="CodeTechBVN">
  <meta name="description"
    content="CodeTech is the information and technology club of Birla Vidya Niketan. Established in 2019 with a vision to bring together the bright minds in the field of technology and together do wonders which help bring technological knowledge to the mainstream">
  <meta name="keywords" content="codetech, bvn, ct, bvncodetech, codetechbvn">
  <meta name="robots" content="index, follow">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="language" content="English">
  <meta name="author" content="Birla Vidya Niketan">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Codetech Web - BitByBit v5.0</title>
  <link rel="stylesheet" href="../assets/css/plugin.css" />
  <link rel="stylesheet" href="../assets/css/main.css" />
  <link rel="stylesheet" href="../assets/css/responsive.css" />
  <link rel="stylesheet" href="../assets/css/form.css">
</head>

<body>
  <!-- Start Preload -->
  <div class="preloader"></div>
  <div class="block-1"></div>
  <div class="block-2"></div>
  <div class="logo-load">
    <img src="" alt="" />
    <!-- Removed logo cuz it looked bad lol  WHAT IS THIS -->
  </div>
  <div class="logo-load spinning"></div>
  <div class="over-all"></div>
  <!-- End Preload -->

  <!-- Start Header -->
  <header>
    <nav>
      <!-- Logo -->
      <div class="logo hover-target">
        <a class="load-spiral" href="/index.html"><img src="../assets/img/logo.svg" alt="logo" /></a>
      </div>
      <!-- Menu bar -->
      <div class="toggle-btn magnetic hover-target">
        <div class="burger-menu">
          <span class="one"></span>
          <span class="two"></span>
          <span class="tre"></span>
        </div>
      </div>
      <!-- Social -->
      <div class="scr socials">
        <div class="list-social">
          <ul>
            <li class="hover-target">
              <a href="https://github.com/BVNCodeTech">Gh.</a>
            </li>
            <li class="hover-target">
              <a href="https://www.instagram.com/codetech.bvn/?hl=en">Ig.</a>
            </li>
            <li class="hover-target">
              <a href="https://www.youtube.com/c/CodeTechBVN/featured">Yt.</a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Copyright -->
      <div class="scr copyright-top">
        <p>CODETECH &copy; 2022</p>
      </div>

      <div class="bg-nav"></div>

      <!-- menu -->
      <div class="manu-container">
        <div class="menu">
          <div class="data">
            <div class="container">
              <div class="row">
                <div class="col-md-8">
                  <div class="links text-center text-lg-left">
                    <ul>
                      <li>
                        <p>01</p>
                        <a class="menu-link hover-target load-spiral" href="/index.html">Home</a>
                      </li>
                      <li>
                        <p>02</p>
                        <a class="menu-link hover-target load-spiral" href="/events.html">Events</a>
                      </li>
                      <li>
                        <p>03</p>
                        <a class="menu-link hover-target load-spiral" href="/about.html">About</a>
                      </li>
                      <li>
                        <p>04</p>
                        <a class="menu-link hover-target load-spiral" href="/team.html">Team</a>
                      </li>
                      <li>
                        <p>05</p>
                        <a
                          class="menu-link hover-target load-spiral"
                          href="/bbb5/event.html"
                          >BitByBit v5.0</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="col-md-2 offset-md-2 centered text-right">
                  <div class="address-menu">
                    <h3>TEAM CODETECH</h3>
                    <h4>Birla Vidya Niketan, Delhi</h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <!-- End Header -->

  <!-- Start Content -->
  <div id="spiral">
    <!-- Header -->
    <div class="scrolls" style="transition: none; animation: none">
      <img draggable="false" style="width: 90px" src="../assets/img/down.png" alt="scroll" />
    </div>
    <div class="main-head">
      <div id="headmove">
        <div data-depth="0.2">
          <div class="bg-about"></div>
        </div>
        <div data-depth="0.3">
          <div class="bg-about-2"></div>
        </div>
      </div>
      <div class="heading-text">
        <div class="heading-text-front">
          <h1 style="text-transform: none;" class="title">BitByBit <span style="color: black;">v5.0</span></h1>
          <h4 style="color: white !important;" class="title text-primary">Registration</h4>
        </div>
        <div class="heading-text-back">
          <h1 style="text-transform: none;" class="title">BitByBit v5.0</h1>
          <h4 class="title text-primary">Registration</h4>
        </div>
      </div>
    </div>

    <!-- About -->
    <section class="service">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="main-title text-center">
              <h2>Register@<span>BitByBit v5.0</span></h2>
            </div>
          </div>
        </div>
        <!-- CODEx REG  -->
        <div class="mt-30">
          <div class="service-item">
            <div class="service-text">
              <div id="eventlistform">
                <h1 style="margin-bottom: 20px;" class="text-white">Select your events</h1>
                <div class="listcontainer">
                  <label class="containerr" style="cursor:none;"><span style="font-weight: bold">onSHOT</span>: Photography
                  <input id="checks" value="onSHOT" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">Î» (Lambda)</span>: Programming
                  <input id="checks" value="Lambda" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">PlayMaker</span>: Game Montage
                  <input id="checks" value="PlayMaker" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">Ctrl+Reality</span>: 3D Designing
                  <input id="checks" value="Reality" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">ValorantReign</span>: Valorant Squads
                  <input id="checks" value="ValorantReign" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">SideSwipe Royale</span>: Rocket League SS
                  <input id="checks" value="SideSwipe" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">BridgeCraft</span>: Minecraft Bridges
                  <input id="checks" value="BridgeCraft" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">#Pixels</span>: Instagram Designing
                  <input id="checks" value="Pixels" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">WebCon</span>: Web Development
                  <input id="checks" value="WebCon" type="checkbox">
                  <span class="checkmark"></span>
                </label>
                <label class="containerr" style="cursor:none;"><span style="font-weight: bold">
                </label>
                <button type="button" class="btn btn-dark full" value="Next" style="margin-top: 3vh; cursor: none;"
                  onclick="addevents()">Next</button>
              </div>
            </div>
          </div>
          </div>
        </div>


        <!-- Footer -->
        <div class="footer">
          <div class="container">
            <div class="row">
              <div class="col-md-4 text-center text-md-left mt-30">
                <div class="mail hover-target">
                  <a href="#">codetechbvn@gmail.com</a>
                </div>
              </div>
              <div class="col-md-4 text-center mt-30">
                <div class="logo-foot">
                  <img src="../assets/img/logo.svg" alt="adsfasdfasdf" />
                </div>
              </div>
              <div class="col-md-4 text-center text-md-right mt-30">
                <div class="sosmed">
                  <ul>
                    <li class="hover-target">
                      <a href="https://github.com/BVNCodeTech">Github.</a>
                    </li>

                    <li class="hover-target">
                      <a href="https://www.instagram.com/codetech.bvn/?hl=en">Instagram.</a>
                    </li>
                    <li class="hover-target">
                      <a href="https://www.youtube.com/c/CodeTechBVN/featured">Youtube.</a>
                    </li>
                  </ul>
                </div>
                <div class="copyright">
                  <p>Codetech &copy;2022. All Rights Reserved</p>
                  <p>Made with â™¥ by Team CodeTech.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Content -->

        <!-- Cursor -->
        <div class="cursor1" id="cursor1"></div>
        <div class="cursor" id="cursor"></div>

        <script src="../assets/js/plugin.js"></script>
        <script src="../assets/js/main.js"></script>
        <script src="../assets/js/service/api/service.json"></script>
        <script src="../assets/js/butter.js"></script>
        <script>
          output = ""
          function addevents() {
            // alert("Registeration opens 5:30pm, 5/7/2024!!")
            // return;
            // throw "error";
            let checks = document.querySelectorAll('[id=checks]');
            output = Array.from(checks).filter((check) => check.checked).map((check) => check.value);
            console.log(output)
            if (output.length < 1) {
              alert("Please select atleast one event!")
              return;
              throw "0eventerrorlmaohahahahahahfuckingidiot";
            }
            let form = document.getElementById("eventlistform")
            let boilerplate = `
        <div class="mt-30">
            <div class="service-item">
              <div class="service-text">
                <h3>Referral (Optional)</h3>

                <ul class="service-list">
                  <li><input type="name" placeholder="Referral Code" name="ref" id="ref"></li>
                </ul>
              </div>
              <div class="service-text">
        `
            let template = `
              <div class="service-text">
                <h1 class="text-primary">eventnamehere</h1>
              {info}
              </div>
        `
            let subtemp = `
              <h4 class="text-white">Participant {i}</h4>
                <ul class="service-list">
                  <li><input type="name" placeholder="Name of participant" name="name" id="p{e}{i}_name"></li>
                  <li><input type="email" placeholder="Email address of participant" name="email" id="p{e}{i}_email"></li>
                  <li><input type="class" placeholder="Class and Section of participant" name="class" id="p{e}{i}_class"></li>
                  <li><input type="class" placeholder="Phone No. of participant" name="class" id="p{e}{i}_phone"></li>
                </ul>
                `
            let newhtml = ``;
            let eventinfo = {
              "onSHOT": 1,
              "Lambda": 1,
              "PlayMaker": 1,
              "Reality": 1,
              "ValorantReign": 4,
              "SideSwipe": 2,
              "BridgeCraft": 2,
              "Pixels": 1,
              "WebCon": 1,
            }
            output.forEach(element => {
              let temphtml = ``
              if (eventinfo[element] > 1) {
                temphtml += "<h5 class=\"text-white\">(If you don't have a group then leave the fields for other participants and team name empty)</h5>"
                temphtml += `
              <h4 class="text-primary">Team Name</h4>
                <ul class="service-list">
                  <li><input type="name" placeholder="Team Name" name="name" id="team${element}_name"></li>
                </ul>`
              }
              for (let i = 0; i < eventinfo[element]; i++) {
                temphtml += subtemp.replaceAll('{e}', element).replaceAll('{i}', i + 1)
              }
              newhtml += template.replaceAll("{info}", temphtml).replaceAll("eventnamehere", element)
            });

            let finalhtml = boilerplate + newhtml + `<button type="button" class="btn btn-dark" value="Submit" style="margin-top: 3vh;" onclick="submitform()">Submit</button></div></div></div>`
            form.innerHTML = finalhtml
          }

          const submitform = () => {
            document.body.style.cursor = "wait";
            const inputs = [`ref`]
            
            let eventinfo = {
              "onSHOT": 1,
              "Lambda": 1,
              "PlayMaker": 1,
              "Reality": 1,
              "ValorantReign": 4,
              "SideSwipe": 2,
              "BridgeCraft": 2,
              "Pixels": 1,
              "WebCon": 1,
            }

            let events = []

            output.forEach(element => {
              let part = []
              for (let i = 0; i < eventinfo[element]; i++) {
                var objs = {
                  "name": document.getElementById(`p${element}${i + 1}_name`).value,
                  "class": document.getElementById(`p${element}${i + 1}_class`).value,
                  "mail": document.getElementById(`p${element}${i + 1}_email`).value,
                  "phone": document.getElementById(`p${element}${i + 1}_phone`).value
                }
                part.push(objs)
              }
              console.log(document.getElementById(`team${element}_name`))
              let eventtt = {
                "name": element,
                "teamname": (document.getElementById(`team${element}_name`)?.value.toString().length > 0 ? document.getElementById(`team${element}_name`).value.toString() : null),
                "part": part
              }
              events.push(eventtt)
            });

            let v = {}
            inputs.forEach(element => {
              let e = document.getElementById(element)
              v[element] = e.value
            });

            let finaldata = {
              embeds: [{
                title: `New Registration!`,
                description:v.ref.length > 0 ?  `Referral Code: ${v.ref}` : "-",
                color: 0xff0000
              }] 
            }
            events.forEach((event) => {
              var embed = {
                title: `ðŸ§­ - ${event.name}`,
                fields: [],
                color: 0x0000ff
              }
              if (event["teamname"]) {
                embed.fields.push({
                  name: `ðŸ‘‰ - Team Name:`,
                  value: event["teamname"]
                })
              }
              event.part.forEach((part,i) => {
                embed.fields.push({
                  name: `ðŸ§›â€â™‚ï¸ - Participant ${i+1}`,
                  value: `Name: ${part.name}\nClass: ${part.class}\nMail: ${part.mail}\nPhone: ${part.phone}`
                })
              });
              finaldata.embeds.push(embed)
            })

            console.log(finaldata)

            content = fetch("https://discord.com/api/webhooks/1257687380664782889/T_iEdXIGzLxyx9HCe_rEMZ47Y4Fig_STzrpYpcm3ldd0QY97G36zo-3XVp3yZKJ2d2pv", {
              body: JSON.stringify(finaldata),
              headers: {
                "Content-Type": "application/json"
              },
              method: "POST"
            }).then(res => {
              if (res.status == 204) {
                document.body.style.cursor = "default";
                alert(`Your form has been submitted successfully. Redirecting to the Discord server.`)
                window.location.replace(`https://discord.gg/q43CeKV937`)
              } else {
                document.body.style.cursor = "default";
                alert("There was an error submitting your form. Please try again later.")
                window.location.replace(`/bbb5/event.html`)
              }
            })
          }
        </script>

</body>

</html>
